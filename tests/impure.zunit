#!/usr/bin/env zunit

@test 'Testing impure prompt' {
	load ../agkozak-zsh-theme.plugin.zsh

	zpml load impure

	[[ "$(zpml compile ZPML_PROMPT colors)" == $'\n%F{blue}%~%f%(3V. %F{242}%3v%(4V.%4v.)%f.)\n%(!.%F{red}#%f .)%(?.%F{magenta}.%F{red})$(_agkozak_vi_mode_indicator ❯ ❮ ❯)%f ' ]]

  assert $state equals 0

	assert $RPROMPT same_as ''
}

# vim: ts=2:sts=2:sw=2
